# Task: Add Shared Scene Context (Reflector v1)

## Objective

Introduce a shared memory layer ("Reflector") that captures and summarizes the ongoing group conversation. This provides all characters with a common temporal-spatial narrative context — enabling more coordinated, scene-aware behavior.

## Goals

- Maintain a shared log of all messages from all participants
- Periodically summarize recent conversation (e.g., every N messages or seconds)
- Make the latest scene summary available to all entities as part of their input context
- Allow optional querying of current "scene state" for observers or tools

## Requirements

- [ ] Implement `Reflector` module or class
  - Accepts message stream from all characters and users
  - Stores full conversation log
  - Performs periodic summarization (LLM-based or simple heuristic for now)
- [ ] Expose `/tvshow/scene/summary` and `/tvshow/scene/log` endpoints
- [ ] Provide each entity access to the latest scene summary on autonomous action
- [ ] Scene summary can include:
  - current discussion theme
  - active characters
  - emotional tone
  - any recent scenario triggers
- [ ] Integration: autonomous behavior → "What’s going on right now?" → use Reflector context

## Optional Enhancements

- [ ] Support multiple parallel scenes or threads in future (via tags or scene IDs)
- [ ] Store summaries with timestamps (e.g., every 2 min)
- [ ] Graphonaut may later use summaries to generate visuals

## Output

- Characters speak in a scene-aware manner (not in isolation)
- External tools or UI can display scene context
- Basis for true narrative arcs and coordinated AI dramaturgy

## Priority

Very High — this is the bridge from entity chat to emergent storytelling.

## Labels

`#tvshow`, `#reflector`, `#shared-context`, `#scene`, `#phase1`